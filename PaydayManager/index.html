<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payday Manager üí∞</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Chart.js for pie charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Confetti.js for celebrations -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Login Modal -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <h3>Password Protected</h3>
            <p>Please enter your password to access Payday Manager</p>
            <div class="form-group">
                <input type="password" id="password-input" class="form-control" placeholder="Enter password">
            </div>
            <button id="login-btn" class="btn btn-primary">Login</button>
        </div>
    </div>

    <div class="mode-toggle">
        <button id="mode-toggle-btn" class="btn btn-light">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <div class="container">
        <header>
            <h1>üí∞ Payday Manager</h1>
            <p id="next-payday">Next Payday: <span id="payday-date">Loading...</span> <span id="days-until">üìÖ</span></p>
        </header>

        <nav>
            <ul>
                <li><a href="#" class="active" data-tab="dashboard">Dashboard</a></li>
                <li><a href="#" data-tab="payday">Payday Planner</a></li>
                <li><a href="#" data-tab="charity">Charity</a></li>
                <li><a href="#" data-tab="bills">Bills</a></li>
                <li><a href="#" data-tab="debts">Debts</a></li>
                <li><a href="#" data-tab="savings">Savings</a></li>
            </ul>
        </nav>

        <main>
            <!-- Dashboard Tab -->
            <section id="dashboard" class="tab-content active">
                <h2>Dashboard üìä</h2>
                <div class="dashboard-grid">
                    <div class="card">
                        <h3>üéÅ Charity</h3>
                        <p class="amount">$<span id="charity-amount">0</span> available</p>
                        <button class="btn btn-success" id="record-donation-btn">
                            <i class="fas fa-hand-holding-heart me-1"></i> Record Donation
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3>üìã Bills Due <span class="badge bg-warning float-end" id="total-bills-badge">$0</span></h3>
                        <ul id="upcoming-bills" class="checklist">
                            <li class="loading">Loading bills...</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h3>üí≥ Debts <span class="badge bg-danger float-end" id="total-debts-badge">$0</span></h3>
                        <ul id="debt-summary">
                            <li class="loading">Loading debts...</li>
                        </ul>
                        <div class="mt-3 d-flex gap-2">
                            <button class="btn btn-primary" id="view-payoff-btn">
                                <i class="fas fa-chart-line me-1"></i> Payoff Strategy
                            </button>
                            <button class="btn btn-info text-white" id="view-debt-chart-btn">
                                <i class="fas fa-chart-pie me-1"></i> View Breakdown
                            </button>
                        </div>
                        <!-- Debt Chart Modal -->
                        <div class="modal" id="debt-chart-modal">
                            <div class="modal-content">
                                <span class="close">&times;</span>
                                <h3>Debt Breakdown</h3>
                                <canvas id="debt-chart" width="400" height="400"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>üíµ Savings</h3>
                        <p class="amount">$<span id="savings-amount">0</span> <span id="savings-currency">CAD</span></p>
                        <p>$<span id="per-paycheck-savings">100</span> CAD per paycheck</p>
                    </div>
                    
                    <div class="card">
                        <h3>üí∏ Paycheck Allocation</h3>
                        <div class="chart-container">
                            <canvas id="allocation-chart" width="400" height="300"></canvas>
                        </div>
                        <div id="allocation-summary" class="mt-3">
                            <p>Add a payday record to see allocation breakdown</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Payday Planner Tab -->
            <section id="payday" class="tab-content">
                <h2>Payday Planner üí∏</h2>
                <div class="card">
                    <h3>New Payday</h3>
                    <form id="payday-form">
                        <div class="form-group">
                            <label for="income-date">Date:</label>
                            <input type="date" id="income-date" required>
                        </div>
                        <div class="form-group">
                            <label for="income-type">Income Type:</label>
                            <select id="income-type">
                                <option value="Paycheck">Paycheck</option>
                                <option value="Bonus">Bonus</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="income-amount">Amount:</label>
                            <input type="number" id="income-amount" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="income-currency">Currency:</label>
                            <select id="income-currency">
                                <option value="USD">USD</option>
                                <option value="CAD">CAD</option>
                            </select>
                        </div>
                        
                        <h4>Allocations</h4>
                        <div class="allocations">
                            <div class="form-group">
                                <label for="bills-allocation">Bills:</label>
                                <input type="number" id="bills-allocation" min="0" step="0.01">
                            </div>
                            <div class="form-group">
                                <label for="credit-allocation">Credit Cards:</label>
                                <input type="number" id="credit-allocation" min="0" step="0.01">
                            </div>
                            <div class="form-group">
                                <label for="charity-allocation">Charity:</label>
                                <input type="number" id="charity-allocation" min="0" step="0.01">
                            </div>
                            <div class="form-group">
                                <label for="savings-allocation">Savings:</label>
                                <input type="number" id="savings-allocation" min="0" step="0.01" value="100">
                            </div>
                            <div class="form-group">
                                <label for="other-allocation">Other:</label>
                                <input type="number" id="other-allocation" min="0" step="0.01">
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save me-1"></i> Save Payday
                        </button>
                    </form>
                </div>
                
                <div class="card">
                    <h3>Payday History</h3>
                    <ul id="payday-history">
                        <li class="loading">No payday records yet</li>
                    </ul>
                </div>
            </section>

            <!-- Charity Tab -->
            <section id="charity" class="tab-content">
                <h2>Charity Tracker üéÅ</h2>
                <div class="card">
                    <h3>Current Charity Amount</h3>
                    <p class="amount big">$<span id="charity-balance">0</span></p>
                    <p>Increases by $<span id="charity-increment">100</span> each paycheck</p>
                    
                    <div class="recurring-donation">
                        <h4>Recurring Donation</h4>
                        <p>$50 on second paycheck of each month</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Record Donation</h3>
                    <form id="donation-form">
                        <div class="form-group">
                            <label for="donation-date">Date:</label>
                            <input type="date" id="donation-date" required>
                        </div>
                        <div class="form-group">
                            <label for="donation-amount">Amount:</label>
                            <input type="number" id="donation-amount" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="donation-description">Description:</label>
                            <input type="text" id="donation-description" required>
                        </div>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-hand-holding-heart me-1"></i> Record Donation
                        </button>
                    </form>
                </div>
                
                <div class="card">
                    <h3>Donation History</h3>
                    <ul id="donation-history">
                        <li class="loading">No donations recorded yet</li>
                    </ul>
                </div>
            </section>

            <!-- Bills Tab -->
            <section id="bills" class="tab-content">
                <h2>Bill Payment Manager üìã</h2>
                <div class="card">
                    <h3>Upcoming Bills</h3>
                    <ul id="bills-list" class="checklist">
                        <li class="loading">Loading bills...</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3>Add New Bill</h3>
                    <form id="bill-form">
                        <div class="form-group">
                            <label for="bill-name">Name:</label>
                            <input type="text" id="bill-name" required>
                        </div>
                        <div class="form-group">
                            <label for="bill-total">Total Amount:</label>
                            <input type="number" id="bill-total" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="bill-per-paycheck">Amount Per Paycheck:</label>
                            <input type="number" id="bill-per-paycheck" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="bill-currency">Currency:</label>
                            <select id="bill-currency">
                                <option value="USD">USD</option>
                                <option value="CAD">CAD</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="bill-due-date">Due Date:</label>
                            <input type="date" id="bill-due-date" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-plus-circle me-1"></i> Add Bill
                        </button>
                    </form>
                </div>
                
                <div class="card">
                    <h3>Payment History</h3>
                    <ul id="bill-payment-history">
                        <li class="loading">No payments recorded yet</li>
                    </ul>
                </div>
            </section>

            <!-- Debts Tab -->
            <section id="debts" class="tab-content">
                <h2>Debt Manager üí≥</h2>
                <div class="card">
                    <h3>Credit Cards & Debts</h3>
                    <ul id="debts-list">
                        <li class="loading">Loading debts...</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3>Add New Debt</h3>
                    <form id="debt-form">
                        <div class="form-group">
                            <label for="debt-name">Name:</label>
                            <input type="text" id="debt-name" required>
                        </div>
                        <div class="form-group">
                            <label for="debt-balance">Current Balance:</label>
                            <input type="number" id="debt-balance" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="debt-currency">Currency:</label>
                            <select id="debt-currency">
                                <option value="USD">USD</option>
                                <option value="CAD">CAD</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="debt-interest">Interest Rate (%):</label>
                            <input type="number" id="debt-interest" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="debt-minimum">Minimum Payment:</label>
                            <input type="number" id="debt-minimum" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="debt-due-date">Due Date:</label>
                            <input type="date" id="debt-due-date">
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-credit-card me-1"></i> Add Debt
                        </button>
                    </form>
                </div>
                
                <div class="card">
                    <h3>Record Payment</h3>
                    <form id="debt-payment-form">
                        <div class="form-group">
                            <label for="debt-payment-debt">Debt:</label>
                            <select id="debt-payment-debt">
                                <option value="">Select a debt</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="debt-payment-date">Date:</label>
                            <input type="date" id="debt-payment-date" required>
                        </div>
                        <div class="form-group">
                            <label for="debt-payment-amount">Amount:</label>
                            <input type="number" id="debt-payment-amount" min="0" step="0.01" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-money-bill-wave me-1"></i> Record Payment
                        </button>
                    </form>
                </div>
                
                <div class="card">
                    <h3>Payoff Strategy</h3>
                    <div id="payoff-strategy">
                        <p>Add debts to see payoff recommendations</p>
                    </div>
                </div>
            </section>

            <!-- Savings Tab -->
            <section id="savings" class="tab-content">
                <h2>Savings Tracker üíµ</h2>
                <div class="card">
                    <h3>Current Savings</h3>
                    <p class="amount big">$<span id="savings-balance">0</span> <span id="savings-currency-display">CAD</span></p>
                    <p>$<span id="savings-per-paycheck">100</span> CAD per paycheck</p>
                </div>
                
                <div class="card">
                    <h3>Savings History</h3>
                    <ul id="savings-history">
                        <li class="loading">No savings records yet</li>
                    </ul>
                </div>
            </section>
        </main>

        <footer>
            <p>Payday Manager &copy; 2025</p>
        </footer>
    </div>

    <!-- Modal for success messages -->
    <div id="success-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="success-icon">‚úÖ</div>
            <h3 id="modal-title">Success!</h3>
            <p id="modal-message">Operation completed successfully.</p>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/storage.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/charity.js"></script>
    <script src="js/bills.js"></script>
    <script src="js/debts.js"></script>
    <script src="js/savings.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
